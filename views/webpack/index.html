<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- search engine -->
  <meta name="author" content="jjgodcom">
  <meta name="description" content="jjgodcom의 프론트 백앤드 정보 정리 사이트 입니다.">
  <meta name="keywords" content="웹 퍼블리셔, 웹 표준, 웹 접근성, 화려한 디자인, jjgodcom, publisher, css3, html, markup, design">
  <meta name="subject" content="jjgodcom의 프론트 백앤드 정보 정리 사이트 입니다.">
  <title>JJGODCOM</title>

  <!-- web_font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Gaegu:300,400,700" rel="stylesheet">
  <!-- ico -->
  <link rel="apple-touch-icon" sizes="57x57" href="../../resources/ico/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="../../resources/ico/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="../../resources/ico/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../../resources/ico/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="../../resources/ico/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../../resources/ico/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="../../resources/ico/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../../resources/ico/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../../resources/ico/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="../../resources/ico/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../resources/ico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="../../resources/ico/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../resources/ico/favicon-16x16.png">
  <link rel="manifest" href="../../resources/ico/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="../../resources/ico/apple-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <!-- css -->
  <link rel="stylesheet" href="../../resources/css/global/reset.css">
  <link rel="stylesheet" href="../../resources/css/views/theme.css">
  <!-- js -->
  <script src="../../resources/js/jquery-3.1.0.min.js"></script>
  <script src="../../resources/js/global.js"></script>
  <script src="../../resources/js/random_rgba.js"></script>
  <!-- prism -->
  <link rel="stylesheet" href="../../resources/css/global/prism2.css">
  <script src="../../resources/js/prism2.js"></script>

  <!-- hmlt5 support -->
	<!--[if lt IE 9]><script src="assets/js/html5shiv.js"></script><![endif]-->
	
	<!-- IE6,7 support -->
	<!--[if lte IE 7]><link rel="stylesheet" href="comm/css/ie7.css" type="text/css" ><![endif]-->
	<!--[if IE 8]><link rel="stylesheet" href="comm/css/ie8.css" type="text/css" ><![endif]-->
	
	<!--[if lte IE 6]>
	<p style="font-size: 12px; color: #fff; background: #2885b0; padding:5px 0; margin: 0; text-align: center">
	사용하고 계신 브라우저는 최신 웹 브라우저가 아닙니다. 업그레이드를 하거나 다른 최신 브라우저 사용을 권장합니다.
	<a href="http://www.microsoft.com/korea/ie" target="_blank" >업그레이드,</a>
	<a href="http://www.mozilla.or.kr/ko/" target="_blank">파이어폭스,</a> 
	<a href="http://kr.opera.com/download/" target="_blank">오페라,</a>,
	<a href="http://support.apple.com/kb/DL1531?viewlocale=ko_KR&locale=ko_KR" target="_blank">사파리,</a>
	<a href="http://www.google.com/chrome?hl=ko" target="_blank">크롬</a></p>
	<![endif]-->
  
</head>
<body>
  <!-- top_nav -->
  <nav id="top_nav">
    <div class="container">
      <a class="logo" href="http://jjgodcom.com/">
        <img src="../../resources/images/global/logo.png" alt="logo" title="title">
      </a>
      <a class="gitHub" target="_blank" href="https://github.com/jjgodcom">GitHub</a>
    </div>
  </nav>
  <!-- //nav -->
  <!-- header -->
  <header id="header">
    <div class="container">
      <h1>Webpack Reference v1.0</h1>
      <a href="http://jjgodcom.com/">jjgodcom.com</a>
    </div>
  </header>
  <!-- //header -->
  <!-- main -->
  <main id="main">
    <div class="container">
      <!-- doc_section -->
      <div class="doc_section">
        <h2 class="section_title">Webpack</h2>
        <p class="lead">참고 사이트 (<a href="https://jacobko.info/bundler/Webpack/" target="_blank">링크</a>)</p>
        <p class="lead">내 GitHub (<a href="https://github.com/jjgodcom/webpack-template-basic" target="_blank">링크</a>)</p>
        <p class="lead">배포된 netlify(<a href="https://calm-paprenjak-a155f0.netlify.app/" target="_blank">링크</a>)</p>
        <ul>
          <li>매우 꼼꼼한 구성</li>
          <li>중/대형 프로젝트에 적합</li>
        </ul>
      </div>
      <!-- //doc_section -->
      <!-- doc_section -->
      <div class="doc_section">
        <h2 class="section_title">프로젝트 생성</h2>
        <h3 class="section_mid_title">터미널</h3>
        <pre class="line-numbers"><code class="language-bash">
npm init -y
npm i -D webpack webpack-cli webpack-dev-server@next

// html 파일 열어주는 플러그인
npm i -D html-webpack-plugin

// 정적 파일 연결 플러그인
npm i -D copy-webpack-plugin

// main.js 에서 css파일을 읽기위한 플러그인
npm i -D css-loader style-loader

// scss 위한 플러그인
npm i -D sass-loader sass

// autoprefixer 플러그인 (크로스브라우징 css)
npm i -D postcss autoprefixer postcss-loader

// badel 플러그인 (구버전에서 자바스크립트 되게끔하는거)
npm i -D @babel/core @babel/preset-env @babel/plugin-transform-runtime
npm i -D babel-loader
        </code></pre>
        <h3 class="section_mid_title"><code class="code">package.json</code> 에 추가</h3>
        <pre class="line-numbers"><code class="language-json">
"scripts": {
  "dev": "webpack-dev-server --mode development",
  "build": "webpack --mode production"
},
"browerslist": [
  "> 1%",
  "last 2 versions"
]
        </code></pre>
        <h3 class="section_mid_title">root 경로에 <code class="code">webpack.config.js</code> 추가</h3>
        <pre class="line-numbers"><code class="language-js">
// import
const path = require('path');
const HtmlPlugin = require('html-webpack-plugin');
const CopyPlugin = require('copy-webpack-plugin');

// export
module.exports = {
  // parcel main.js 
  // 파일을 읽어들이기 시작하는 진입점 설정
  entry : './js/main.js',

  // 결과물(번들)을 반환하는 설정
  output: {
    // __dirname : webpack.config.js 파일이 있는 경로
    // 'dist' : 폴더명
    // path : path.resolve(__dirname, 'dist'), // 주석해도 dist 로 만들어짐
    // filename: 'main.js', // 위에 entry 에 선언해서 주석해도 만들어짐
    clean: true // 폴더명에 남아있는 파일 제거
  },

  module:{
    rules : [
      {
        test: /\.s?css$/, // 정규식으로 .?css 로 끝나는 모든 파일
        use: [ // 순서가 중요 style-loader 담에 css-loader
          'style-loader', // 4번 css-loader 에서 해석된 내용을 index.html 에 삽입을 해주는 package
          'css-loader', // 3번 : JS에서 CSS 를 읽을 수 있게 하는 package
          'postcss-loader', // 2번: Postcss-loader 실행
          'sass-loader' // 1번: css-loader 가 실행되기 전에 sass-loader 실행 package
        ]
      },
      {
        test: /\.js$/, // 정규식으로 .js 로 끝나는 모든 파일
        use: [
          'babel-loader' // webpack에서 babel 을 해석하기 위한 loader package 연결
        ]
      }
    ]
  },

  // 번들링 후 결과물의 처리 방식 등 다양한 플러그인들을 설정
  plugins : [
    new HtmlPlugin({
      template: './index.html'
    }),
    // build 시, static 폴더에 있는 파일들이 dist 폴더로 copy 되서 들어가게 해주는 플러그인
    new CopyPlugin({ 
      patterns: [{
        from: 'static' // root 경로에 만들어 놓은 폴더 명
      }]
    })
  ],

  devServer: {
    host: 'localhost'
  }
}
        </code></pre>
        <h3 class="section_mid_title">root 경로 js파일 생성 후 <code class="code">main.js</code> 추가</h3>
        <pre class="line-numbers"><code class="language-js">
import "../scss/main.scss";

console.log("Hello Webpack");
        </code></pre>
        <h3 class="section_mid_title">root경로에 <code class="code">.postcssrc.js</code> 추가하기</h3>
        <pre class="line-numbers"><code class="language-js">
// export autoprefixer  in postsccrc.js
module.exports = {
  // JS 파일을 node 환경에서 외부에서 내보내는 명령어
  plugins: [require("autoprefixer")],
};
        </code></pre>
        <h3 class="section_mid_title">root 경로에 <code class="code">.babelrc.js</code> 추가하기</h3>
        <pre class="line-numbers"><code class="language-js">
module.exports = {
  // preset-env module 내보내기
  presets: ["@babel/preset-env"], // 따로 일일히 명시해야되는 JS 를 지원해주는 pacakge
  plugins: [
    // 2차원 배열 생성
    ["@babel/plugin-transform-runtime"], // babel 이 runtime 으로 실행되기 위해 옮겨주는 package
  ],
};
        </code></pre>
        <h3 class="section_mid_title">root 경로에 <code class="code">.gitignore</code> 추가</h3>
        <pre class="line-numbers"><code class="language-js">
.cache
.DS_Store
node_modules
dist
        </code></pre>
      </div>
      <!-- //doc_section -->
    </div>
  </main>
  <!-- //main -->
  <!-- footer -->
  <footer id="footer">
    <div class="copyright">
      <div>Full-stack development</div>
      <div>JJGODCOM</div> 
    </div>
  </footer>
  <!-- //footer -->
</body>
</html>